% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prediction.r
\name{run_tvem_model_cv}
\alias{run_tvem_model_cv}
\title{Run 10-Fold Cross-Validation for Time-Varying Effects Model (TVEM)}
\usage{
run_tvem_model_cv(
  idp,
  trait,
  age,
  conf,
  conf_names,
  trait_id,
  remove_age,
  model_age
)
}
\arguments{
\item{idp}{A matrix or dataframe of imaging-derived phenotypes (IDPs).}

\item{trait}{A numeric vector representing the trait to be predicted.}

\item{age}{A numeric vector representing the age of the subjects.}

\item{conf}{A matrix or dataframe of confounding variables to adjust for (optional).}

\item{conf_names}{A vector of strings with the names of confounding variables (optional).}

\item{trait_id}{An identifier for the trait being modeled.}

\item{remove_age}{Logical; if TRUE, removes age from the set of predictors.}

\item{model_age}{Logical; if TRUE, includes age as a linear effect in the model.}
}
\value{
A list containing the following components:
\item{tvem_yhat}{A numeric vector of predictions for the trait based on the TVEM model.}
\item{corr_train}{A numeric vector of correlations between predicted and actual trait values in the training set for each fold.}
\item{corr_test}{A numeric vector of correlations between predicted and actual trait values in the test set for each fold.}
\item{models}{A list of fitted TVEM models for each fold.}
\item{trait_transformed}{A numeric vector of the transformed trait, aligned across folds.}
}
\description{
This function performs a 10-fold cross-validation to fit a time-varying effects model
(TVEM) and predict a given trait using IDP (imaging-derived phenotypes) and age.
It supports optional confounder adjustment, alignment of trait directions across folds,
and provides both training and test set correlations.
}
\examples{
\dontrun{
  result <- run_tvem_model_cv(idp, trait, age, conf, conf_names, trait_id, remove_age = TRUE, model_age = 1)
}

}
